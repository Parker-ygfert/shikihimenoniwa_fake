<style>
  div.images:not(:first-child) {
    margin-left: 1rem;
  }
</style>

<div style="display: flex;">
  <% @all_species.each do |species| %>
    <div class="images">
      <%= link_to hime_levels_path(params.permit!.merge species: species), style: 'cursor: pointer;' do %>
        <%= image_pack_tag "#{species}.jpg" %>
      <% end %>
      <%= link_to '升級 Demo', hime_level_path(instance_variable_get("@#{species}") || 0, species: species),
                  style: 'display: block; border: 1px solid #000; padding: 5px; background: #ccc; text-align: center;' %>
    </div>
  <% end %>
</div>

<% if @attributes %>
  <ul>
    <li>種族：<%= Species.human_attribute_name("name.#{params[:species]}") %></li>
    <li>等級上限：<%= params[:level] || 10 %></li>
  </ul>

  <%= form_tag hime_levels_path, method: :get do %>
    <%= hidden_field_tag :species, params[:species] %>
    <%= label_tag :level, '等級上限：' %>
    <%= number_field_tag :level, params[:level] %>
    <%= submit_tag '送出', style: 'cursor: pointer;' %>
  <% end %>

  <table style="border: 1px solid #000; border-collapse:collapse; text-align: center; margin-top: 1rem;">
    <thead>
      <tr>
        <% %i[等級 血量 攻擊 防禦 敏捷 特性].each do |attribute| %>
          <th style="border: 1px solid #000; padding: 5px 30px;">
            <%= attribute %>
          </th>
        <% end %>
      </tr>
    </thead>
    <tbody>
        <% @attributes.each do |level, attrs| %>
          <tr>
            <td style="border: 1px solid #000; padding: 5px 30px;"><%= level %></td>
            <% attrs.values.each do |value| %>
              <td style="border: 1px solid #000; padding: 5px 30px;"><%= value %></td>
            <% end %>
          </tr>
        <% end %>
    </tbody>
  </table>
<% end %>